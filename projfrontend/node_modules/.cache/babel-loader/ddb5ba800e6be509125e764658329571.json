{"ast":null,"code":"var _jsxFileName = \"E:\\\\mern\\\\projfrontend\\\\src\\\\core\\\\PaypalCheckout.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { loadCart, cartEmpty } from \"./helper/CartHelper\";\nimport { Link } from \"react-router-dom\";\nimport { getmeToken, processPayment } from \"./helper/paymentHelper\";\nimport { createOrder } from \"./helper/OrderHelper\";\nimport { isAuthenticated } from \"../auth/helper\";\nimport DropIn from \"braintree-web-drop-in-react\";\n\nconst PaypalCheckout = ({\n  products,\n  setReload = f => f,\n  reload = undefined\n}) => {\n  const [info, setInfo] = useState({\n    loading: false,\n    success: false,\n    clientToken: null,\n    error: \"\"\n  });\n  let effect1 = false;\n  let token = isAuthenticated() && isAuthenticated().token;\n\n  let userId = isAuthenticated().user._id;\n\n  if (userId) {\n    effect1 = true;\n  }\n\n  const getToken = (userId, token) => {\n    console.log(\"grttoekn called with \", userId);\n    getmeToken(userId, token).then(info => {\n      console.log(\"INFORMATION \", info);\n\n      if (info.error) {\n        setInfo({ ...info,\n          error: info.error\n        });\n      } else {\n        const clientToken = info.clientToken;\n        setInfo({\n          clientToken: clientToken\n        });\n      }\n    });\n  };\n\n  useEffect(() => {\n    getToken(userId, token);\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, \"test braintree\"));\n};\n\nexport default PaypalCheckout;","map":{"version":3,"sources":["E:/mern/projfrontend/src/core/PaypalCheckout.js"],"names":["React","useState","useEffect","loadCart","cartEmpty","Link","getmeToken","processPayment","createOrder","isAuthenticated","DropIn","PaypalCheckout","products","setReload","f","reload","undefined","info","setInfo","loading","success","clientToken","error","effect1","token","userId","user","_id","getToken","console","log","then"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,qBAApC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,UAAT,EAAqBC,cAArB,QAA2C,wBAA3C;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,SAASC,eAAT,QAAgC,gBAAhC;AACA,OAAOC,MAAP,MAAmB,6BAAnB;;AAIA,MAAMC,cAAc,GAAC,CAAC;AAACC,EAAAA,QAAD;AAAUC,EAAAA,SAAS,GAACC,CAAC,IAAEA,CAAvB;AAAyBC,EAAAA,MAAM,GAACC;AAAhC,CAAD,KAA8C;AAE/D,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAejB,QAAQ,CAAC;AAC1BkB,IAAAA,OAAO,EAAC,KADkB;AAE1BC,IAAAA,OAAO,EAAC,KAFkB;AAG1BC,IAAAA,WAAW,EAAC,IAHc;AAI1BC,IAAAA,KAAK,EAAC;AAJoB,GAAD,CAA7B;AAMA,MAAIC,OAAO,GAAC,KAAZ;AAEA,MAAIC,KAAK,GAAGf,eAAe,MAAMA,eAAe,GAAGe,KAAnD;;AACA,MAAIC,MAAM,GAAGhB,eAAe,GAAGiB,IAAlB,CAAuBC,GAApC;;AACA,MAAGF,MAAH,EAAU;AACNF,IAAAA,OAAO,GAAC,IAAR;AACH;;AAID,QAAMK,QAAQ,GAAC,CAACH,MAAD,EAAQD,KAAR,KAAgB;AAC3BK,IAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ,EAAoCL,MAApC;AACAnB,IAAAA,UAAU,CAACmB,MAAD,EAAQD,KAAR,CAAV,CAAyBO,IAAzB,CAA8Bd,IAAI,IAAG;AACjCY,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA2Bb,IAA3B;;AACA,UAAGA,IAAI,CAACK,KAAR,EAAc;AACVJ,QAAAA,OAAO,CAAC,EAAC,GAAGD,IAAJ;AAASK,UAAAA,KAAK,EAAEL,IAAI,CAACK;AAArB,SAAD,CAAP;AACH,OAFD,MAEK;AACD,cAAMD,WAAW,GAACJ,IAAI,CAACI,WAAvB;AACAH,QAAAA,OAAO,CAAC;AAACG,UAAAA,WAAW,EAACA;AAAb,SAAD,CAAP;AACH;AACJ,KARD;AASH,GAXD;;AAaAnB,EAAAA,SAAS,CAAC,MAAI;AACV0B,IAAAA,QAAQ,CAACH,MAAD,EAAQD,KAAR,CAAR;AACH,GAFQ,EAEP,EAFO,CAAT;AAKA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,CADJ;AAKH,CAzCD;;AA0CA,eAAeb,cAAf","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport { loadCart, cartEmpty } from \"./helper/CartHelper\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getmeToken, processPayment } from \"./helper/paymentHelper\";\r\nimport { createOrder } from \"./helper/OrderHelper\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport DropIn from \"braintree-web-drop-in-react\";\r\n\r\n\r\n\r\nconst PaypalCheckout=({products,setReload=f=>f,reload=undefined})=>{\r\n\r\n    const [info,setInfo]=useState({\r\n        loading:false,\r\n        success:false,\r\n        clientToken:null,\r\n        error:\"\"\r\n    });\r\n    let effect1=false;\r\n\r\n    let token = isAuthenticated() && isAuthenticated().token;\r\n    let userId = isAuthenticated().user._id;\r\n    if(userId){\r\n        effect1=true\r\n    }\r\n\r\n\r\n\r\n    const getToken=(userId,token)=>{\r\n        console.log(\"grttoekn called with \",userId);\r\n        getmeToken(userId,token).then(info =>{\r\n            console.log(\"INFORMATION \",info);\r\n            if(info.error){\r\n                setInfo({...info,error: info.error})\r\n            }else{\r\n                const clientToken=info.clientToken;\r\n                setInfo({clientToken:clientToken})\r\n            }\r\n        })\r\n    }\r\n\r\n    useEffect(()=>{\r\n        getToken(userId,token);\r\n    },[])\r\n\r\n\r\n    return(\r\n        <div>\r\n            <h3>test braintree</h3>\r\n        </div>\r\n    )\r\n}\r\nexport default PaypalCheckout;"]},"metadata":{},"sourceType":"module"}