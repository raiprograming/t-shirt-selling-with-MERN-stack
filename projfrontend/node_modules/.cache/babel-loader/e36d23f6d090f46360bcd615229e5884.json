{"ast":null,"code":"var _jsxFileName = \"E:\\\\mern\\\\projfrontend\\\\src\\\\core\\\\StripeCheckout.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { loadCart, cartEmpty } from \"./helper/CartHelper\";\nimport { isAuthenticated } from \"../auth/helper\";\nimport { Link } from \"react-router-dom\";\n\nconst StripeCheckout = ({\n  products,\n  setReload = f => f,\n  reload = undefined\n}) => {\n  const [data, setData] = useState({\n    loading: false,\n    success: false,\n    error: \"\",\n    address: \"\"\n  });\n  const token = isAuthenticated() && isAuthenticated().token;\n\n  const userId = isAuthenticated() && isAuthenticated().user._id;\n\n  const getFinalPrice = () => {\n    let amount = 0;\n    products.map(p => {\n      amount = amount + p.price;\n    });\n    return amount;\n  };\n\n  const showStripeButton = () => {\n    return isAuthenticated() ? /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 14\n      }\n    }, \"pay with stripe\") : /*#__PURE__*/React.createElement(Link, {\n      to: \"/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-warning\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 18\n      }\n    }, \"signin\"));\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }\n  }, \"stripe checkout \", getFinalPrice()), showStripeButton());\n};\n\nexport default StripeCheckout;","map":{"version":3,"sources":["E:/mern/projfrontend/src/core/StripeCheckout.js"],"names":["React","useState","useEffect","loadCart","cartEmpty","isAuthenticated","Link","StripeCheckout","products","setReload","f","reload","undefined","data","setData","loading","success","error","address","token","userId","user","_id","getFinalPrice","amount","map","p","price","showStripeButton"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,QAAd,EAAuBC,SAAvB,QAAuC,OAAvC;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,qBAApC;AACA,SAASC,eAAT,QAAgC,gBAAhC;AACA,SAASC,IAAT,QAAqB,kBAArB;;AAIA,MAAMC,cAAc,GAAC,CAAC;AAACC,EAAAA,QAAD;AAAUC,EAAAA,SAAS,GAACC,CAAC,IAAEA,CAAvB;AAAyBC,EAAAA,MAAM,GAACC;AAAhC,CAAD,KAA8C;AAC/D,QAAM,CAACC,IAAD,EAAMC,OAAN,IAAeb,QAAQ,CAAC;AAC1Bc,IAAAA,OAAO,EAAC,KADkB;AAE1BC,IAAAA,OAAO,EAAC,KAFkB;AAG1BC,IAAAA,KAAK,EAAC,EAHoB;AAI1BC,IAAAA,OAAO,EAAC;AAJkB,GAAD,CAA7B;AAMA,QAAMC,KAAK,GAACd,eAAe,MAAMA,eAAe,GAAGc,KAAnD;;AACA,QAAMC,MAAM,GAACf,eAAe,MAAMA,eAAe,GAAGgB,IAAlB,CAAuBC,GAAzD;;AACA,QAAMC,aAAa,GAAC,MAAI;AACpB,QAAIC,MAAM,GAAC,CAAX;AACAhB,IAAAA,QAAQ,CAACiB,GAAT,CAAaC,CAAC,IAAE;AACZF,MAAAA,MAAM,GAACA,MAAM,GAACE,CAAC,CAACC,KAAhB;AACH,KAFD;AAGA,WAAOH,MAAP;AACH,GAND;;AAOA,QAAMI,gBAAgB,GAAC,MAAI;AACvB,WAAOvB,eAAe,kBAEjB;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFiB,gBAIjB,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,SAAS,EAAC,iBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,CAJL;AAQH,GATD;;AAgBA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAqBkB,aAAa,EAAlC,CADJ,EAEKK,gBAAgB,EAFrB,CADJ;AAMH,CAtCD;;AAuCA,eAAerB,cAAf","sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport { loadCart, cartEmpty } from \"./helper/CartHelper\";\r\nimport { isAuthenticated } from \"../auth/helper\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\n\r\n\r\nconst StripeCheckout=({products,setReload=f=>f,reload=undefined})=>{\r\n    const [data,setData]=useState({\r\n        loading:false,\r\n        success:false,\r\n        error:\"\",\r\n        address:\"\"\r\n    })\r\n    const token=isAuthenticated() && isAuthenticated().token;\r\n    const userId=isAuthenticated() && isAuthenticated().user._id;\r\n    const getFinalPrice=()=>{\r\n        let amount=0;\r\n        products.map(p=>{\r\n            amount=amount+p.price;\r\n        })\r\n        return amount;\r\n    }\r\n    const showStripeButton=()=>{\r\n        return isAuthenticated() ?\r\n         (\r\n             <button className=\"btn btn-success\">pay with stripe</button>\r\n         ) : (\r\n             <Link to=\"/signin\">\r\n                 <button className=\"btn btn-warning\">signin</button>\r\n             </Link>\r\n         )\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return(\r\n        <div>\r\n            <h3>stripe checkout {getFinalPrice()}</h3>\r\n            {showStripeButton()}\r\n        </div>\r\n    )\r\n}\r\nexport default StripeCheckout;"]},"metadata":{},"sourceType":"module"}